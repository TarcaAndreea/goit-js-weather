async function e(e,t){const n=`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=d52884a2e04f7a405073b1f70d08c546&units=${t}`;return(await axios.get(n)).data}async function t(e,t){const n=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=d52884a2e04f7a405073b1f70d08c546&units=${t}`;return(await axios.get(n)).data}const n=document.querySelector(".show-more__right"),i=document.querySelector(".show-more__left"),r=document.querySelectorAll(".show-initial"),o=document.querySelectorAll(".hide-initial");n.addEventListener("click",(()=>{r.forEach((e=>{e.classList.add("hide-on-click"),e.classList.remove("show-initial")})),o.forEach((e=>{e.classList.remove("hide-on-click"),e.classList.add("show-initial")}))})),i.addEventListener("click",(()=>{r.forEach((e=>{e.classList.remove("hide-on-click"),e.classList.add("show-initial")})),o.forEach((e=>{e.classList.add("hide-on-click"),e.classList.remove("show-initial")}))}));const c=document.getElementById("5days-btn");let a=document.querySelectorAll(".is-hidden");const s=document.getElementById("today-btn");let l=document.querySelector(".five-days"),d=document.querySelector(".allday-wheather");const u=document.querySelector(".city");c.addEventListener("click",(function(){a.forEach((function(e){e.classList.remove("is-hidden")})),l.classList.remove("is-hidden"),u.classList.remove("is-hidden"),d.classList.add("is-hidden")})),s.addEventListener("click",(function(){l.classList.add("is-hidden"),d.classList.remove("is-hidden"),u.classList.add("is-hidden")}));const m=document.querySelector(".js-form"),h=document.getElementsByName("query")[0],f=document.querySelector(".js-slider-list"),y=document.querySelector("#js-btnAdd"),g=document.querySelector(".prev"),v=document.querySelector(".next");let p=[];function S(){f.innerHTML="";for(let e=0;e<p.length;e++){const t=p[e],n=document.createElement("li");n.classList.add("favorites-list");const i=document.createElement("button");i.value=t,i.innerHTML=t,i.addEventListener("click",L),i.classList.add("favorite-button");const r=document.createElement("button");r.value=t,r.addEventListener("click",w),r.classList.add("close-button"),n.appendChild(i),n.appendChild(r),f.appendChild(n)}!function(){const e=JSON.parse(localStorage.getItem("cities"));null==e||e.length<=4?(g.style.visibility="hidden",v.style.visibility="hidden"):(g.style.visibility="visible",v.style.visibility="visible")}()}function L(e){e.target.value}function w(e){const t=e.target.value;let n=JSON.parse(localStorage.getItem("cities"));!function(e,t){if(e.length<=4)return void(p=p.filter((e=>e!==t)));const n=p[p.length-1],i=e.indexOf(n);i<e.length-1?(p=p.filter((e=>e!==t)),p.push(e[i+1])):p=p.filter((e=>e!==t))}(n,t),function(e,t){e=e.filter((e=>e!==t)),localStorage.setItem("cities",JSON.stringify(e))}(n,t),S()}!function(){const e=JSON.parse(localStorage.getItem("cities"));if(null==e)return;if(e.length<4)for(let t=0;t<e.length;t++)p.push(e[t]);else for(let t=0;t<4;t++)p.push(e[t])}(),S(),m.addEventListener("submit",(e=>{e.preventDefault();const t=h.value;alert(`add api call here for ${t}`)})),y.addEventListener("click",(()=>{const e=h.value;!function(e){if(""===e)return;const t=localStorage.getItem("cities");if(null===t)localStorage.setItem("cities",JSON.stringify([e]));else{let n=JSON.parse(t).map((e=>e.toLowerCase()));n.includes(e.toLowerCase())||(n.push(e),localStorage.setItem("cities",JSON.stringify(n)))}}(e),p.length<4&&p.push(e),S()})),g.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("cities")),t=p[0],n=e.indexOf(t);n>0&&(p=p.filter((e=>e!==p[3])),p.unshift(e[n-1])),S()})),v.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("cities")),t=p[p.length-1],n=e.indexOf(t);n<e.length-1&&(p=p.filter((e=>e!==p[0])),p.push(e[n+1])),S()}));const q=document.querySelector(".today-weather__current"),_=document.querySelector(".today-minmax__mindegree"),E=document.querySelector(".today-minmax__maxdegree"),x=document.querySelector(".current-wheather-icon"),b=document.querySelector(".current-wheather-city");function C(e){return parseInt(e,10)}function k(e){const t=C(e.main.temp),n=C(e.main.temp_min),i=C(e.main.temp_max),r=e.weather[0].icon,o=e.name;if(q.textContent=`${t}°`,_.textContent=`${n}°`,E.textContent=`${i}°`,x){const e=`https://openweathermap.org/img/w/${r}.png`;x.setAttribute("src",e)}b&&(b.textContent=o)}function I(e,n){return t(e,n)}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".search-location__form"),t=document.querySelector(".search-location__form input");e.addEventListener("submit",(e=>{e.preventDefault();const n=t.value.trim();if(""===n)return void alert("Please enter a city name.");I(n,"metric").then((e=>{k(e)})).catch((e=>{console.error("Error fetching weather data:",e),q.textContent="Error fetching weather data"}))}));I("Paris","metric").then((e=>{k(e)})).catch((e=>{console.error("Error fetching weather data:",e),q.textContent="Error fetching weather data"}))}));const O=document.querySelector('.js-form input[name="query"]'),$=document.querySelector(".js-form"),N=document.querySelector(".city__name");document.querySelector(".five-days__icon use");function D(e){switch(e){case"clear":return"icon-sun";case"clouds":return"icon-cloudy";case"rain":return"icon-rain";case"snow":return"icon-snow";default:return"icon-default"}}$.addEventListener("submit",(async function(t){t.preventDefault();try{const t=await e(O.value,"metric");N.textContent=t.city.name;const n=function(e){return e.list.filter(((e,t,n)=>t===n.findIndex((t=>new Date(1e3*t.dt).getDay()===new Date(1e3*e.dt).getDay()))))}(t);!function(e){for(let t=0;t<5;t++){const n=e[t],i=new Date(1e3*n.dt),r=document.querySelector(`.five-days__item:nth-child(${t+1})`),o=r.querySelector(".five-days__day"),c=r.querySelector(".five-days__date"),a=r.querySelector(".temperature-min__value"),s=r.querySelector(".temperature-max__value"),l=r.querySelector(".five-days__icon use");o.textContent=i.toLocaleString("default",{weekday:"long"}),c.textContent=i.toLocaleString("default",{day:"2-digit",month:"short"}),a.textContent=Math.round(n.main.temp_min),s.textContent=Math.round(n.main.temp_max);const d=D(n.weather[0].main.toLowerCase());l.setAttribute("href",`./images/sprite.svg#${d}`)}}(n)}catch(e){console.error("Error while fetching weather data: ",e)}}));
//# sourceMappingURL=index.0a5bb80f.js.map
