async function e(e,t){const n=`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=d52884a2e04f7a405073b1f70d08c546&units=${t}`;return(await axios.get(n)).data}const t=document.querySelector(".show-more__right"),n=document.querySelector(".show-more__left"),i=document.querySelectorAll(".show-initial"),s=document.querySelectorAll(".hide-initial");t.addEventListener("click",(()=>{i.forEach((e=>{e.classList.add("hide-on-click"),e.classList.remove("show-initial")})),s.forEach((e=>{e.classList.remove("hide-on-click"),e.classList.add("show-initial")}))})),n.addEventListener("click",(()=>{i.forEach((e=>{e.classList.remove("hide-on-click"),e.classList.add("show-initial")})),s.forEach((e=>{e.classList.add("hide-on-click"),e.classList.remove("show-initial")}))}));const c=document.getElementById("5days-btn");let o=document.querySelectorAll(".is-hidden");const r=document.getElementById("today-btn");let l=document.querySelector(".five-days"),a=document.querySelector(".allday-wheather");const d=document.querySelector(".city");c.addEventListener("click",(function(){o.forEach((function(e){e.classList.remove("is-hidden")})),l.classList.remove("is-hidden"),d.classList.remove("is-hidden"),a.classList.add("is-hidden")})),r.addEventListener("click",(function(){l.classList.add("is-hidden"),a.classList.remove("is-hidden"),d.classList.add("is-hidden")}));const u=document.querySelector(".js-form"),m=document.getElementsByName("query")[0],f=document.querySelector(".js-slider-list"),h=document.querySelector("#js-btnAdd"),y=document.querySelector(".prev"),v=document.querySelector(".next");let g=[];function S(){f.innerHTML="";for(let e=0;e<g.length;e++){const t=g[e],n=document.createElement("li");n.classList.add("favorites-list");const i=document.createElement("button");i.value=t,i.innerHTML=t,i.addEventListener("click",L),i.classList.add("favorite-button");const s=document.createElement("button");s.value=t,s.addEventListener("click",p),s.classList.add("close-button"),n.appendChild(i),n.appendChild(s),f.appendChild(n)}!function(){const e=JSON.parse(localStorage.getItem("cities"));null==e||e.length<=4?(y.style.visibility="hidden",v.style.visibility="hidden"):(y.style.visibility="visible",v.style.visibility="visible")}()}function L(e){e.target.value}function p(e){const t=e.target.value;let n=JSON.parse(localStorage.getItem("cities"));!function(e,t){if(e.length<=4)return void(g=g.filter((e=>e!==t)));const n=g[g.length-1],i=e.indexOf(n);i<e.length-1?(g=g.filter((e=>e!==t)),g.push(e[i+1])):g=g.filter((e=>e!==t))}(n,t),function(e,t){e=e.filter((e=>e!==t)),localStorage.setItem("cities",JSON.stringify(e))}(n,t),S()}!function(){const e=JSON.parse(localStorage.getItem("cities"));if(null==e)return;if(e.length<4)for(let t=0;t<e.length;t++)g.push(e[t]);else for(let t=0;t<4;t++)g.push(e[t])}(),S(),u.addEventListener("submit",(e=>{e.preventDefault();const t=m.value;alert(`add api call here for ${t}`)})),h.addEventListener("click",(()=>{const e=m.value;!function(e){if(""===e)return;const t=localStorage.getItem("cities");if(null===t)localStorage.setItem("cities",JSON.stringify([e]));else{let n=JSON.parse(t).map((e=>e.toLowerCase()));n.includes(e.toLowerCase())||(n.push(e),localStorage.setItem("cities",JSON.stringify(n)))}}(e),g.length<4&&g.push(e),S()})),y.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("cities")),t=g[0],n=e.indexOf(t);n>0&&(g=g.filter((e=>e!==g[3])),g.unshift(e[n-1])),S()})),v.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("cities")),t=g[g.length-1],n=e.indexOf(t);n<e.length-1&&(g=g.filter((e=>e!==g[0])),g.push(e[n+1])),S()}));const q=document.querySelector('.js-form input[name="query"]'),w=document.querySelector(".js-form"),E=document.querySelector(".city__name");document.querySelector(".five-days__icon use");function _(e){switch(e){case"clear":return"icon-sun";case"clouds":return"icon-cloudy";case"rain":return"icon-rain";case"snow":return"icon-snow";default:return"icon-default"}}w.addEventListener("submit",(async function(t){t.preventDefault();try{const t=await e(q.value,"metric");E.textContent=t.city.name;const n=function(e){return e.list.filter(((e,t,n)=>t===n.findIndex((t=>new Date(1e3*t.dt).getDay()===new Date(1e3*e.dt).getDay()))))}(t);!function(e){for(let t=0;t<5;t++){const n=e[t],i=new Date(1e3*n.dt),s=document.querySelector(`.five-days__item:nth-child(${t+1})`),c=s.querySelector(".five-days__day"),o=s.querySelector(".five-days__date"),r=s.querySelector(".temperature-min__value"),l=s.querySelector(".temperature-max__value"),a=s.querySelector(".five-days__icon use");c.textContent=i.toLocaleString("default",{weekday:"long"}),o.textContent=i.toLocaleString("default",{day:"2-digit",month:"short"}),r.textContent=Math.round(n.main.temp_min),l.textContent=Math.round(n.main.temp_max);const d=_(n.weather[0].main.toLowerCase());a.setAttribute("href",`./images/sprite.svg#${d}`)}}(n)}catch(e){console.error("Error while fetching weather data: ",e)}}));
//# sourceMappingURL=index.a5f40a2b.js.map
